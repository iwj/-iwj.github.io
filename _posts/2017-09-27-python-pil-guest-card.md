---
layout: post
title: 哦？你也去了苹果新品发布会现场？使用 Python PIL 实现高仿苹果发布会嘉宾证（一）
categories: [Python]
---

## 一个想法💡

前些天，苹果公司要开新品发布会。每时每刻，我的大脑高速运转并且运行着一个节点花园。突然碰撞出一个火花，用 Python 实现伪造嘉宾证。朋友圈里经常能见到，啊我结婚了，啊我去了苹果发布会现场，加上下方配图就跟真的一样。

此前从来没有仔细调研过 Python 的图像处理领域，凭借直觉和对 Python 的了解，预判必定有较为成熟甚至非常成熟稳定的图像处理库。

搜索结果让我非常满意，决定选用 PIL 来实现一番以及实践一番。

## 思路

最近在熟悉 Django ，正好借这个机会应用一下。搭建 Django 服务，新建图像处理功能，适配微信，限制只能在微信内打开，同时附上二维码便于二次传播。

这就是大致思路。

## 阶段一：调试在图像上添加文字

看 PIL 的官方文档，章节多。虽然对英文的恐惧几乎很少，毕竟现阶段的我向死而生。但还是没找出符合当下需求的那一个章节。失败告终。

之后用 Google 找出了几篇中文的 PIL 实例。调了几次，把报的错解决了，图像就绘制好了，太优雅了。只是很粗糙，需要后续优化和调整。

第一次测试，用了大骨架姑娘新垣结衣的照片：

![test-draw](/image/20170927-pil-test-1.jpg)

对了，上图这英文字符还挺好看的，跟图片风格挺搭得来。而这个字体，我居然只是在 Google 搜索结果页中随手复制来的。；）哈哈！

接下来，寻找清晰的苹果发布会嘉宾证照片。找了几张合适的，开始制作高仿嘉宾证。

因为素材中嘉宾证不是水平放置的，因此，嘉宾名字也要倾斜对应角度，否则就是“灵魂P图”了。不过，PIL 也提供了旋转的方法，稍微理解一下，就知道如何运用了。

最终第一版的效果如下：

![test-draw2](/image/20170927-pil-test-2.jpg)

## 下一步

我肯定不能忍受这么粗糙的字体。

优化显示效果，比如寻找更圆润更接近真实情况的字体，更自然的字体颜色等等。

移植到 Web 服务中，适配微信。
